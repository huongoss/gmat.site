:root {
  /* Palette */
  --color-bg: #f6f8fb;
  --color-surface: #ffffff;
  --color-surface-alt: #f1f5f9; /* slate-100 */
  --color-text: #0f172a; /* slate-900 */
  --color-text-muted: #475569; /* slate-600 */
  /* Subtle, secondary text (less contrast than muted) */
  --color-text-subtle: #64748b; /* slate-500 */
  --color-border: #e2e8f0; /* slate-200 */
  --color-primary: #2563eb; /* blue-600 */
  --color-primary-hover: #1d4ed8; /* blue-700 */
  --color-accent: #22c55e; /* green-500 */
  /* Accent strong variant for marketing CTAs */
  --color-accent-strong: #16a34a; /* green-600 */
  --color-accent-strong-hover: #15803d; /* green-700 */
  /* Brand gradient stops (inspired by original sample) */
  --color-brand-start: #4338ca; /* indigo-700 */
  --color-brand-mid: #2563eb; /* blue-600 */
  --color-brand-end: #1d4ed8; /* blue-700 */
  /* Optional semantic gradients (can be used later) */
  --gradient-hero: linear-gradient(100deg, var(--color-brand-start) 0%, var(--color-brand-mid) 55%, var(--color-brand-end) 100%);
  --gradient-pricing: linear-gradient(135deg, var(--color-surface-alt) 0%, #eef2f8 60%, #e2e8f0 100%);
  /* Hero specific typography colors */
  --color-hero-title: #ffffff; /* pure white for maximum contrast */
  --color-hero-sub: #e2e8f0; /* slate-200: softer supporting text */
  --color-danger: #ef4444; /* red-500 */
  --color-header-bg: #0f172a; /* shared header/footer bg */
  --color-footer-bg: #0f172a;

  /* Effects */
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;

  /* Spacing */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
}

/* Base reset */
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body, #root { height: 100%; }
body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
  margin: 0;
  padding: 0;
  background-color: var(--color-bg);
  color: var(--color-text);
  line-height: 1.55;
  -webkit-font-smoothing: antialiased;
}

h1, h2, h3 { color: var(--color-text); margin: 0 0 var(--space-3); line-height: 1.25; }
p, li { line-height: 1.55; }
p { color: var(--color-text-muted); margin: 0 0 var(--space-3); }
a { color: var(--color-primary); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Layout */
.app-container { min-height: 100%; display: flex; flex-direction: column; }
.container { max-width: 1024px; margin: 0 auto; padding: 0 var(--space-4); width: 100%; }
@media (min-width: 640px) {
  .container { padding: 0 var(--space-5); }
}
main { flex: 1; padding: var(--space-6) 0; }

/* Button reset kept minimal */
button { font: inherit; cursor: pointer; color: var(--color-text); background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-sm); transition: background-color .15s ease, box-shadow .15s ease, transform .1s ease; min-height: 44px; }
button:hover { box-shadow: var(--shadow-sm); }
button:focus-visible { outline: 3px solid rgba(37, 99, 235, .35); outline-offset: 2px; }
button:active { transform: translateY(1px); }

/* Class-based buttons apply to both <button> and <a> */
.btn, .btn-outline, .btn-danger, .btn-accent, a.btn, a.btn-outline, a.btn-danger, a.btn-accent {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-sm);
  font-weight: 600;
  line-height: 1.2;
  text-decoration: none;
  min-height: 44px;
}

/* Variants */
.btn, a.btn { background: var(--color-primary); color: #fff; border: 1px solid transparent; box-shadow: var(--shadow-sm); }
.btn:hover, a.btn:hover { background: var(--color-primary-hover); box-shadow: var(--shadow-md); }

.btn-outline, a.btn-outline { background: transparent; color: var(--color-text); border: 1px solid var(--color-border); }
.btn-outline:hover, a.btn-outline:hover { background: var(--color-surface-alt); }

.btn-danger, a.btn-danger { background: var(--color-danger); color: #fff; border: 1px solid transparent; }
.btn-danger:hover, a.btn-danger:hover { filter: brightness(0.95); }

/* Focus states for anchors too */
.btn:focus-visible, .btn-outline:focus-visible, .btn-danger:focus-visible, .btn-accent:focus-visible,
a.btn:focus-visible, a.btn-outline:focus-visible, a.btn-danger:focus-visible, a.btn-accent:focus-visible { outline: 3px solid rgba(37, 99, 235, .35); outline-offset: 2px; }

/* Disabled helpers */
.btn[disabled], .btn.disabled, a.btn.disabled, .btn-accent[disabled], .btn-accent.disabled, a.btn-accent.disabled { opacity: .6; pointer-events: none; }

/* Accent strong variant (marketing CTA) */
.btn-accent, a.btn-accent { background: var(--color-accent-strong); color: #fff; border: 1px solid transparent; box-shadow: var(--shadow-sm); }
.btn-accent:hover, a.btn-accent:hover { background: var(--color-accent-strong-hover); box-shadow: var(--shadow-md); }

/* Cards */
.card, .question-card, .result-summary { background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-md); padding: var(--space-5); box-shadow: var(--shadow-sm); }
.card + .card { margin-top: var(--space-4); }

/* Question */
.question, .question-text { margin-bottom: var(--space-4); font-size: 1.05rem; font-weight: 600; line-height: 1.45; word-wrap: break-word; overflow-wrap: anywhere; }
.question-text { white-space: pre-wrap; }
@media (min-width: 640px) {
  .question, .question-text { font-size: 1.125rem; }
}
.options { display: grid; gap: var(--space-3); }
.option { text-align: left; border: 1px solid var(--color-border); background: var(--color-surface-alt); width: 100%; box-sizing: border-box; touch-action: manipulation; }
.option:hover { background: #e9eef5; }
.option.selected { border-color: var(--color-primary); background: #e8efff; box-shadow: 0 0 0 2px rgba(37,99,235,0.25) inset; }

.question-ds {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.question-ds__stem {
  margin: 0;
}

.question-ds__statements {
  list-style: none;
  padding: 0;
  padding-bottom:1rem;
  margin: 0;
  display: flex;
  flex-direction: column;
}

.question-ds__statement {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
}

.question-ds__label {
  font-weight: 600;
  color: var(--color-text-muted);
  display: block;
  padding-right: 1rem;
}

.question-ds__text {
  color: var(--color-text);
  line-height: 1.45;
}

/* Timer */
.timer { font-size: 1.25rem; color: var(--color-danger); font-weight: 600; }

/* Feedback */
.emotion-feedback { font-size: 1rem; color: var(--color-text); }

/* Progress */
.progress { width: 100%; height: 10px; background: var(--color-surface-alt); border: 1px solid var(--color-border); border-radius: var(--radius-sm); overflow: hidden; }
.progress-bar { height: 100%; background: linear-gradient(90deg, var(--color-primary), var(--color-primary-hover)); transition: width .2s ease; }

/* Utilities */
.mt-2 { margin-top: var(--space-2); } .mt-3 { margin-top: var(--space-3); } .mt-4 { margin-top: var(--space-4); } .mt-6 { margin-top: var(--space-6); }
.mb-2 { margin-bottom: var(--space-2); } .mb-3 { margin-bottom: var(--space-3); } .mb-4 { margin-bottom: var(--space-4); } .mb-6 { margin-bottom: var(--space-6); }

/* Option layout */
.option { display: grid; grid-template-columns: 44px 1fr; align-items: flex-start; gap: var(--space-3); padding: var(--space-3); }
.option-letter { display: inline-grid; place-items: center; width: 32px; height: 32px; border-radius: 999px; background: var(--color-surface); border: 1px solid var(--color-border); color: var(--color-text); font-weight: 700; }
.option.selected .option-letter { background: var(--color-primary); border-color: var(--color-primary); color: #fff; }
.option-text { color: var(--color-text); line-height: 1.45; word-break: break-word; white-space: pre-wrap; }

/* Responsive tightening for very long question blocks */
@media (min-width: 768px) {
  .question-card { font-size: 1rem; }
}

@media (max-width: 600px) {
  .option { grid-template-columns: 36px 1fr; padding: var(--space-2) var(--space-3); }
  .option-letter { width: 30px; height: 30px; font-size: .8rem; }
  .btn, .btn-outline, .btn-danger { padding: var(--space-2) var(--space-3); }
}

/* Wider layout on large screens: two columns when many options or long text */
@media (min-width: 960px) {
  .options.long-text-possible { grid-template-columns: 1fr 1fr; }
  .options.long-text-possible .option { max-width: 100%; }
}

/* Page spacing helpers */
.page-title { margin-bottom: var(--space-4); }
.section { margin-bottom: var(--space-6); }

/* Forms */
.form-group { display: flex; flex-direction: column; gap: var(--space-2); margin-bottom: var(--space-4); }
label { font-weight: 600; color: var(--color-text); }
input[type="text"], input[type="email"], input[type="password"], select, textarea {
  width: 100%;
  padding: var(--space-2) var(--space-3);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  background: var(--color-surface);
  color: var(--color-text);
  transition: border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
}
input[type="text"]:focus, input[type="email"]:focus, input[type="password"]:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
}
.field-hint { color: var(--color-text-muted); font-size: .9rem; }
.form-actions { margin-top: var(--space-4); }
.btn-block { display: inline-flex; justify-content: center; width: 100%; }

/* Alerts */
.alert { padding: var(--space-2) var(--space-3); border-radius: var(--radius-sm); border: 1px solid transparent; }
.alert-danger { background: #fee2e2; border-color: #fecaca; color: #991b1b; }
.alert-success { background: #dcfce7; border-color: #bbf7d0; color: #166534; }
.alert-info { background: #e0f2fe; border-color: #bae6fd; color: #075985; }

/* Auth layout */
.auth-card { max-width: 480px; margin: var(--space-6) auto; }

/* HumanCheck visible indicator */
.human-check { display: flex; align-items: center; gap: var(--space-2); font-size: .85rem; margin-top: var(--space-3); color: var(--color-text-subtle); }
/* Calendar (Review) */
.calendar { padding: var(--space-4); }
.cal-header { display:flex; justify-content:space-between; align-items:center; margin-bottom: var(--space-3); font-weight:600; }
.cal-legend { display:flex; align-items:center; gap:10px; font-size:.65rem; text-transform:uppercase; letter-spacing:.5px; }
.cal-dot { width:10px; height:10px; border-radius:50%; display:inline-block; background:var(--color-border); position:relative; top:1px; }
.cal-dot.daily { background: var(--color-primary); }
.cal-dot.retake { background: var(--color-accent); }
.cal-weekdays { display:grid; grid-template-columns: repeat(7, 1fr); gap:4px; font-size:.65rem; text-align:center; font-weight:600; color:var(--color-text-subtle); margin-bottom:4px; }
.cal-grid { display:grid; grid-template-columns: repeat(7, 1fr); gap:4px; }
.cal-cell { position:relative; aspect-ratio: 1 / 1; background: var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-sm); padding:4px; display:flex; flex-direction:column; align-items:flex-start; justify-content:flex-start; cursor:pointer; font-size:.7rem; transition: background .15s, border-color .15s; }
.cal-cell:hover { background: var(--color-surface-alt); }
.cal-cell.today { border-color: var(--color-primary); }
.cal-cell.selected { outline:2px solid var(--color-primary); outline-offset:2px; }
.cal-cell.empty { background: transparent; border:none; pointer-events:none; }
.cal-day-num { font-weight:600; font-size:.7rem; }
.cal-markers { margin-top:auto; display:flex; gap:4px; }
@media (max-width:600px) {
  .calendar { padding: var(--space-3); }
  .cal-cell { font-size:.65rem; }
  .cal-legend { display:none; }
}
.human-check .hc-indicator { display: inline-flex; align-items: center; justify-content: center; width: 18px; height: 18px; border-radius: 4px; font-size: .75rem; font-weight: 600; background: var(--color-surface-alt); border: 1px solid var(--color-border); }
.human-check .hc-indicator.checking { animation: hcPulse 1s infinite ease-in-out; }
.human-check .hc-indicator.ok { background: var(--color-accent); color: #fff; border-color: var(--color-accent); }
.human-check .hc-indicator.error { background: #fee2e2; color: #991b1b; border-color: #fecaca; }
.human-check .hc-text { line-height: 1; }
.human-check .hc-legal { margin-left: calc(18px + var(--space-2)); margin-top: var(--space-2); }
@keyframes hcPulse { 0%, 100% { opacity: .4; } 50% { opacity: 1; } }

/* Layout width constraints for large screens */
.content-narrow { width: 100%; max-width: 760px; margin: 0 auto; }
.content-medium { width: 100%; max-width: 900px; margin: 0 auto; }
.content-wide { width: 100%; max-width: 1100px; margin: 0 auto; }

/* Center pricing grid and similar multi-card sections */
.centered-grid { margin-left: auto; margin-right: auto; }
@media (min-width: 1024px) {
  .pricing-grid { max-width: 880px; }
}

/* Responsive typography scale */
@media (min-width: 768px) {
  h1 { font-size: 2rem; }
  h2 { font-size: 1.5rem; }
  h3 { font-size: 1.25rem; }
}
@media (max-width: 767px) {
  h1 { font-size: 1.55rem; }
  h2 { font-size: 1.3rem; }
  h3 { font-size: 1.15rem; }
}

/* Pointer/hover refinement: only apply hover styles on devices that support hover */
@media (hover: hover) and (pointer: fine) {
  .option:hover { background: #e9eef5; }
  .btn:hover, a.btn:hover { background: var(--color-primary-hover); }
}

/* Prevent layout shifts on mobile due to focus outlines */
@media (max-width: 600px) {
  button:focus-visible, .btn:focus-visible { outline-width: 2px; }
}